# Software Requirements Specification (SRS)
## Fiscally MVP - AI-Powered Financial Agent (Hackathon Edition)

**Version:** MVP 1.0  
**Date:** January 21, 2026  
**Development Timeline:** 2 Weeks  
**Prepared By:** Hackathon Team

---

## 1. Introduction

### 1.1 Purpose
This document specifies the **Minimum Viable Product (MVP)** requirements for Fiscally, a demonstration-ready AI financial agent for a 2-week hackathon. The focus is on creating working prototypes of three core features with Opik evaluation integration.

### 1.2 MVP Scope
**What's INCLUDED in MVP:**
- Basic user profile creation (simplified)
- One working demo flow per feature
- Simulated integrations (no real bank connections)
- Opik evaluation dashboards for judges
- Web-based demo interface

**What's EXCLUDED from MVP:**
- Real financial account integration (Plaid)
- Production-grade security
- Mobile apps
- WhatsApp/SMS integration
- User authentication system
- Database persistence (optional - can use in-memory storage)

### 1.3 Success Criteria for Hackathon
- ‚úÖ Live demo of all 3 features working
- ‚úÖ Opik dashboard showing evaluation metrics
- ‚úÖ Clean, presentable UI
- ‚úÖ 5-minute pitch-ready demonstration
- ‚úÖ Judges can interact with the system

---

## 2. MVP Architecture (Simplified)

### 2.1 Tech Stack
**Frontend:**
- React.js single-page application
- Tailwind CSS for styling
- Recharts for data visualization

**Backend:**
- Python FastAPI (single service)
- OpenAI GPT-4o API
- LangGraph for agent state machines

**Data Storage:**
- JSON files or SQLite (no complex database setup)
- In-memory state for demo sessions

**Evaluation:**
- Opik SDK integrated in backend
- Pre-populated evaluation datasets

**Deployment:**
- Local development server for demo
- (Optional: Deploy to Vercel + Railway if time permits)

### 2.2 Simplified User Flow
1. User opens web app
2. Completes 2-minute profile setup (mock data acceptable)
3. Can interact with all 3 features from dashboard
4. Each feature has one "happy path" demo scenario

---

## 3. MVP Feature Requirements

## 3.1 Simplified User Profile (5% of Dev Time)

### 3.1.1 Basic Profile Creation
**Priority:** Medium  
**Description:** Collect minimal information needed to personalize agent responses.

**MVP Requirements:**

**FR-1.1** Profile form with 8 fields only:
- Name (text input)
- Monthly Income (dropdown: <$2k, $2-5k, $5-10k, >$10k)
- Monthly Expenses (dropdown: same ranges)
- Current Savings (dropdown: <$1k, $1-10k, $10-50k, >$50k)
- Risk Tolerance (slider: 1-10)
- Investment Experience (dropdown: None, Beginner, Intermediate, Advanced)
- Financial Goal (dropdown: Save for house, Pay off debt, Grow wealth, Retirement)
- Email (text input - for demo purposes only)

**FR-1.2** Profile data stored in:
- Browser localStorage (persistent across page refresh)
- OR simple JSON file on backend

**FR-1.3** Profile setup time: < 2 minutes

**Implementation Notes:**
- No email verification needed
- No password/authentication
- Profile can be pre-populated with sample data for quick demos

---

## 3.2 Feature 1: SubZero - MVP Version (30% of Dev Time)

### 3.2.1 Demo Scenario: "The Adobe Refund"
**Scope:** One pre-scripted negotiation flow that always works

**MVP Requirements:**

**FR-2.1** User Input Interface:
- Simple form with fields:
  - Merchant Name (text)
  - Amount Charged (number)
  - What do you want? (dropdown: Full Refund, Cancel Only, Better Deal)
- "Start Negotiation" button

**FR-2.2** Mock Subscription Database:
- Pre-loaded with 5 common subscriptions:
  - Adobe Creative Cloud ($54.99)
  - Netflix ($15.99)
  - Spotify ($10.99)
  - Planet Fitness ($10)
  - HelloFresh ($60)
- Each has mock refund policy stored

**FR-2.3** Simulated Negotiation (LangGraph Agent):
- **State 1:** Agent reads merchant policy from mock database
- **State 2:** Agent generates opening message (using GPT-4o)
- **State 3:** Simulated vendor response (pre-scripted with variations)
- **State 4:** Agent counter-negotiation (GPT-4o decides: accept or reject offer)
- **State 5:** Final resolution

**FR-2.4** User sees real-time updates:
- Chat-style interface showing negotiation progress
- Agent messages appear with 2-second delays (simulate real conversation)
- Vendor responses (simulated) appear after agent messages

**FR-2.5** Outcomes (randomly selected for demo variety):
- 70% chance: Full refund approved
- 20% chance: Retention offer (2 months free) ‚Üí Agent asks user ‚Üí User chooses
- 10% chance: Refund denied ‚Üí Agent explains next steps

**FR-2.6** Final Output:
- Success/Failure message
- Mock confirmation screenshot (pre-made image)
- Negotiation transcript (downloadable text file)

**Opik Integration:**

**OEM-2.1** NegotiationTenacityScore:
- Log every negotiation trace to Opik
- Metric: Did agent reject bad retention offer when user wanted full refund?
- Demo dashboard shows: "8/10 negotiations showed high tenacity"

**OEM-2.2** GoalAlignmentScore:
- Metric: Did final outcome match user's stated goal?
- Demo dashboard shows: "9/10 negotiations achieved user's goal"

**Implementation Shortcuts:**
- ‚ùå No real vendor integration (all simulated)
- ‚ùå No email/chat automation (mock text responses)
- ‚úÖ Focus on LLM agent logic and Opik tracking

---

## 3.3 Feature 2: DopamineAudit - MVP Version (30% of Dev Time)

### 3.3.1 Demo Scenario: "The Late-Night Purchase"
**Scope:** Emotion-tagged transaction history with one intervention demo

**MVP Requirements:**

**FR-3.1** Mock Transaction History:
- Pre-load 30 sample transactions for last month
- Transaction data structure:
  ```json
  {
    "id": "tx_001",
    "date": "2026-01-15T02:30:00Z",
    "merchant": "Amazon",
    "amount": 299.99,
    "category": "Electronics",
    "emotional_tag": {
      "stress_level": 9,
      "emotion": "anxious",
      "note": "Code isn't working, bought new keyboard"
    }
  }
  ```

**FR-3.2** Transaction List View:
- Table showing all transactions
- Color-coded by emotional state:
  - Red: High stress (7-10)
  - Yellow: Medium stress (4-6)
  - Green: Low stress (1-3)
  - Gray: No emotional tag

**FR-3.3** Simulated Real-Time Intervention:
- "Trigger New Purchase" button (for demo purposes)
- When clicked:
  - Shows mock purchase notification: "You just spent $300 on Amazon at 2:00 AM"
  - Modal appears: "How stressed are you? (1-10 slider)"
  - User inputs stress level and optional note
  - Transaction added to history with emotional tag

**FR-3.4** Spending Pattern Analysis (Pre-computed):
- Agent analyzes mock transaction history
- Generates insights using GPT-4o:
  - "You spend 3x more when stress level > 7"
  - "80% of late-night purchases (10pm-6am) are high-stress"
  - "Your top stress-spending category: Electronics ($1,200/month)"

**FR-3.5** Weekly Regret Report (Pre-generated PDF):
- Mock report showing:
  - Total spending: $3,456
  - Emotional spending: $2,100 (60%)
  - Visualization: Bar chart (stress level vs. spending amount)
  - Top triggers: "Work deadlines" and "Late nights"
  - Recommendation: "Try 4-hour cooling period for purchases > $100"

**FR-3.6** Interactive Chart:
- Scatter plot: X-axis = Time of Day, Y-axis = Stress Level
- Bubble size = Transaction Amount
- Hover shows transaction details
- Built with Recharts

**Opik Integration:**

**OEM-3.1** EmpathyScore:
- Evaluation dataset: 10 sensitive user responses
  - "I'm so depressed, I just bought another gadget"
  - "I hate myself for spending again"
  - "This is hopeless"
- Agent generates supportive response (GPT-4o)
- Opik scores responses on empathy scale (1-5)
- Demo dashboard shows: "Average Empathy Score: 4.2/5"

**OEM-3.2** PatternAccuracyScore:
- Ground truth: Known correlation (stress 8+ ‚Üí spend 3x)
- Agent's detected pattern: "Stress 7+ ‚Üí spend 2.8x"
- Accuracy: 93%

**Implementation Shortcuts:**
- ‚ùå No real-time bank transaction monitoring (Plaid)
- ‚ùå No push notifications
- ‚úÖ Pre-loaded mock data for impressive visualizations
- ‚úÖ Focus on emotional tagging logic and insights

---

## 3.4 Feature 3: ThesisFlow - MVP Version (30% of Dev Time)

### 3.4.1 Demo Scenario: "Should I buy RocketCoin?"
**Scope:** One investment research flow with anti-hallucination demo

**MVP Requirements:**

**FR-4.1** Investment Query Interface:
- Simple text input: "Ask about any investment"
- Sample queries pre-filled for easy demos:
  - "Should I invest $1000 in Bitcoin?"
  - "Is Tesla stock a good buy right now?"
  - "What do you think about RocketCoin?"

**FR-4.2** Agent Research Process (Visible to User):
- Step-by-step progress indicator:
  - ‚úÖ Retrieving your risk profile...
  - ‚úÖ Searching for [Asset] information...
  - ‚úÖ Analyzing price data...
  - ‚úÖ Checking risk factors...
  - ‚úÖ Generating investment memo...

**FR-4.3** Research Agent (LangGraph + RAG):
- **State 1:** Fetch user's risk profile from localStorage
- **State 2:** Web search using Tavily API:
  - Current price
  - Recent news (last 7 days)
  - Market sentiment
- **State 3:** For crypto, check:
  - CoinGecko API for price/market cap
  - Mock "whale wallet checker" (simulated data)
- **State 4:** Risk calculation:
  - Compare asset volatility vs. user's risk tolerance
  - Red flags: whale concentration, missing data, high volatility
- **State 5:** Generate memo using GPT-4o

**FR-4.4** Investment Memo (HTML Page):
- **Executive Summary:**
  - Recommendation badge: üî¥ REJECT / üü° NEUTRAL / üü¢ RECOMMEND
  - One-sentence reasoning
  
- **Asset Overview:**
  - Current price
  - Market cap
  - 30-day price change

- **Risk Analysis:**
  - Volatility: 45% (vs. your tolerance: 15%) ‚ö†Ô∏è
  - Whale concentration: 3 wallets hold 80% ‚ö†Ô∏è
  - Missing fundamental data ‚ö†Ô∏è

- **Alignment with Your Profile:**
  - Your risk tolerance: Low (3/10)
  - This asset's risk: Very High (9/10)
  - ‚ùå Mismatch: -6 points

- **Scenario Analysis:**
  - Best case: +200% in 3 months
  - Base case: -30% in 1 month
  - Worst case: -100% (rug pull)

- **Sources Cited:**
  - [1] CoinDesk: "RocketCoin faces scrutiny" (Jan 20, 2026)
  - [2] CoinGecko: Price data (Jan 21, 2026)
  - [3] Twitter sentiment: 60% negative

- **Recommendation:**
  - "Based on your low risk tolerance, I strongly recommend REJECTING this investment. The asset shows multiple red flags inconsistent with your financial goals."

**FR-4.5** Alternative Suggestions (if rejected):
- "Consider these safer alternatives:"
  - Index funds (VOO, VTI)
  - Stablecoins with yield (USDC)
  - Educational resources on crypto investing

**FR-4.6** Anti-Hallucination Demo:
- For judges, show Opik dashboard with:
  - ‚ùå Bad trace: Agent invented fake P/E ratio ‚Üí Flagged as hallucination
  - ‚úÖ Good trace: Agent cited real CoinDesk article ‚Üí Verified

**Opik Integration:**

**OEM-4.1** FiduciarySafetyScore:
- Evaluation dataset: 15 investment queries across risk levels
- Metric: % of recommendations that align with user's risk profile
- Demo dashboard shows: "14/15 (93%) recommendations were safe"

**OEM-4.2** HallucinationMetric:
- Every numerical claim must have source URL
- Opik flags any claim without source
- Demo: "0 hallucinations detected in last 10 memos"

**OEM-4.3** SourceQualityScore:
- Credibility scoring:
  - Tier 1: Official sources (SEC, company filings) = 5 points
  - Tier 2: Major news (Reuters, Bloomberg) = 4 points
  - Tier 3: Crypto news (CoinDesk) = 3 points
  - Tier 4: Social media (Reddit, Twitter) = 2 points
  - Tier 5: Unknown blogs = 1 point
- Average source quality: 3.8/5

**Implementation Shortcuts:**
- ‚ùå No real-time market data APIs (use cached or mock data)
- ‚ùå No PDF generation (HTML memo is fine)
- ‚úÖ Focus on agent reasoning and source citation
- ‚úÖ Tavily for real web search (but can cache results)

---

## 4. Opik Evaluation Dashboard (5% of Dev Time)

### 4.1 Judges' Demo Dashboard

**Purpose:** Show judges that your agents are evaluated rigorously

**Dashboard Components:**

**Page 1: Overview**
- Total traces logged: 143
- Evaluation runs: 12
- Average scores across all features

**Page 2: SubZero Metrics**
- NegotiationTenacityScore: 8.2/10
- GoalAlignmentScore: 90%
- Sample trace viewer (show 3 example negotiations)

**Page 3: DopamineAudit Metrics**
- EmpathyScore: 4.3/5
- PatternAccuracyScore: 93%
- Sample sensitive responses with scores

**Page 4: ThesisFlow Metrics**
- FiduciarySafetyScore: 93%
- HallucinationMetric: 0 detected
- SourceQualityScore: 3.8/5
- Side-by-side comparison: Bad trace vs. Good trace

**Implementation:**
- Embed Opik dashboard in an iframe within your app
- OR create custom dashboard using Opik API data
- Pre-populate with evaluation results from test runs

---

## 5. MVP UI/UX Requirements (5% of Dev Time)

### 5.1 Landing Page
- Hero section: "Your AI Financial Agent"
- Three feature cards with icons
- "Try Demo" button (no login required)

### 5.2 Dashboard Layout
- Left sidebar: Navigation (Profile, SubZero, DopamineAudit, ThesisFlow, Opik Dashboard)
- Main content area: Active feature
- Top bar: User name, demo mode indicator

### 5.3 Design Principles
- Clean, modern UI (Tailwind CSS)
- Color scheme: Financial blue/green
- Animations: Smooth transitions, loading spinners
- Mobile-responsive (but desktop demo is priority)

### 5.4 Demo Mode Features
- "Reset Demo" button (clears all data, reloads sample data)
- Sample data pre-populated on first load
- Quick action buttons for judges ("Try Adobe Refund", "Trigger Impulse Buy", "Research RocketCoin")

---

## 6. Technical Implementation Guide (For 2-Week Sprint)

### 6.1 Week 1: Foundation + SubZero
**Days 1-2: Setup & Profile**
- Initialize React app (Vite)
- Setup FastAPI backend
- Create basic profile form
- Setup Opik account and SDK

**Days 3-5: SubZero Feature**
- Build negotiation UI
- Implement LangGraph state machine
- Integrate OpenAI API
- Add Opik tracing
- Create mock vendor responses

**Days 6-7: SubZero Polish**
- UI refinements
- Add simulated delays for realism
- Run Opik evaluations
- Create sample traces for demo

### 6.2 Week 2: DopamineAudit + ThesisFlow + Polish
**Days 8-9: DopamineAudit**
- Transaction list UI
- Emotional tagging flow
- Spending pattern analysis
- Charts with Recharts
- Opik evaluation for empathy

**Days 10-11: ThesisFlow**
- Query interface
- Research agent with Tavily
- Investment memo generation
- Anti-hallucination checks
- Opik evaluation for safety

**Days 12-13: Integration & Polish**
- Dashboard navigation
- Landing page
- Opik dashboard integration
- Demo mode features
- Bug fixes

**Day 14: Presentation Prep**
- Create pitch deck
- Record demo video (backup)
- Test run with team
- Prepare for Q&A

---

## 7. MVP Data Models (Simplified)

### 7.1 User Profile (localStorage)
```json
{
  "name": "Alice Johnson",
  "monthlyIncome": "$5-10k",
  "monthlyExpenses": "$2-5k",
  "savings": "$10-50k",
  "riskTolerance": 3,
  "investmentExperience": "Beginner",
  "financialGoal": "Save for house",
  "email": "alice@example.com"
}
```

### 7.2 Transaction (JSON array)
```json
{
  "id": "tx_001",
  "date": "2026-01-15T02:30:00Z",
  "merchant": "Amazon",
  "amount": 299.99,
  "category": "Electronics",
  "emotionalTag": {
    "stressLevel": 9,
    "emotion": "anxious",
    "note": "Work stress"
  }
}
```

### 7.3 Negotiation Case (JSON array)
```json
{
  "id": "neg_001",
  "merchant": "Adobe",
  "amount": 54.99,
  "goal": "Full Refund",
  "status": "Success",
  "transcript": ["Agent: I'd like to request a refund...", "Vendor: We can offer..."],
  "outcome": "Refund approved: $54.99"
}
```

### 7.4 Investment Query (JSON array)
```json
{
  "id": "inv_001",
  "query": "Should I invest $1000 in Bitcoin?",
  "assetName": "Bitcoin",
  "recommendation": "NEUTRAL",
  "reasoning": "Moderate risk, matches your profile",
  "sources": ["CoinDesk", "CoinGecko"],
  "timestamp": "2026-01-21T10:00:00Z"
}
```

---

## 8. MVP Testing Requirements (Minimal)

### 8.1 Manual Testing Checklist
- ‚úÖ Profile creation works
- ‚úÖ SubZero negotiation completes without errors
- ‚úÖ DopamineAudit shows transactions and emotions
- ‚úÖ ThesisFlow generates investment memo
- ‚úÖ Opik dashboard displays metrics
- ‚úÖ Demo can be reset and run multiple times

### 8.2 No Automated Testing Required
- Skip unit tests for MVP (time constraint)
- Focus on working demo over test coverage

---

## 9. Demo Presentation Strategy (Critical for Judges)

### 9.1 5-Minute Pitch Structure

**Minute 1: Problem**
- "People waste money on forgotten subscriptions"
- "Emotional spending leads to regret"
- "FOMO investing causes losses"

**Minute 2: Solution - Live Demo**
- Show SubZero getting Adobe refund (30 sec)
- Show DopamineAudit emotional tagging (30 sec)
- Show ThesisFlow rejecting RocketCoin (30 sec)

**Minute 3: The Secret Sauce - Opik**
- Switch to Opik dashboard
- "Our agents don't just work‚Äîthey're rigorously evaluated"
- Show NegotiationTenacity score
- Show Hallucination detection example

**Minute 4: Impact**
- "SubZero saved users $X in our test data"
- "DopamineAudit reduced impulse spending by Y%"
- "ThesisFlow prevented Z risky investments"

**Minute 5: Vision**
- "Fiscally covers the entire money lifecycle"
- "Save what you spent (SubZero)"
- "Stop wasting (DopamineAudit)"
- "Grow safely (ThesisFlow)"

### 9.2 Backup Plans
- Pre-record demo video (if live demo fails)
- Have screenshot slides ready
- Prepare for "What if API is down?" scenario (use cached responses)

---

## 10. MVP Success Metrics (For Hackathon Judging)

### 10.1 Technical Excellence
- ‚úÖ All 3 features work in live demo
- ‚úÖ Opik integration is visible and impressive
- ‚úÖ LangGraph state machines are well-designed
- ‚úÖ No major bugs during presentation

### 10.2 Innovation
- ‚úÖ Novel use of AI agents for financial tasks
- ‚úÖ Emotional spending tracking is unique
- ‚úÖ Anti-hallucination in financial context stands out

### 10.3 Presentation Quality
- ‚úÖ Clear problem-solution narrative
- ‚úÖ Live demo is smooth and engaging
- ‚úÖ Opik dashboard impresses judges
- ‚úÖ Team can answer technical questions

### 10.4 Practical Impact
- ‚úÖ Solves real problems (subscription fatigue, impulse spending, FOMO investing)
- ‚úÖ Target audience is well-defined
- ‚úÖ Use cases are relatable

---

## 11. Out of Scope for MVP (Future Work)

‚ùå Real bank integration (Plaid)  
‚ùå User authentication and security  
‚ùå Production database (PostgreSQL)  
‚ùå Mobile apps  
‚ùå WhatsApp/SMS integration  
‚ùå Email automation  
‚ùå Payment processing  
‚ùå Multi-user support  
‚ùå Advanced analytics  
‚ùå Compliance certifications  

**These are mentioned in pitch as "Post-hackathon roadmap"**

---

## 12. MVP Development Priorities

### Must-Have (80% of effort)
1. SubZero working negotiation demo
2. DopamineAudit emotional tagging + insights
3. ThesisFlow investment memo generation
4. Opik evaluation dashboard
5. Clean, presentable UI

### Nice-to-Have (15% of effort)
1. Animated transitions
2. Better charts and visualizations
3. More sample data variety

### Skip Entirely (0% of effort)
1. Real integrations
2. Security features
3. Database optimization
4. Mobile responsiveness (beyond basic)
5. Error handling for edge cases

---

## Appendix A: Quick Start Commands

### Setup (Day 1)
```bash
# Frontend
npx create-vite fiscally-frontend --template react
cd fiscally-frontend
npm install tailwindcss recharts lucide-react

# Backend
mkdir fiscally-backend
cd fiscally-backend
python -m venv venv
source venv/bin/activate
pip install fastapi uvicorn openai langchain langgraph opik tavily-python

# Opik
pip install opik
opik login
```

### Run Demo
```bash
# Terminal 1: Backend
cd fiscally-backend
uvicorn main:app --reload

# Terminal 2: Frontend
cd fiscally-frontend
npm run dev

# Open: http://localhost:5173
```

---

## Appendix B: Sample Opik Code

```python
from opik import track

@track(name="subzero_negotiation")
def negotiate_refund(merchant, amount, user_goal):
    # LangGraph agent logic here
    result = agent.run(merchant, amount, user_goal)
    
    # Opik automatically logs:
    # - Input parameters
    # - LLM calls
    # - Output
    # - Latency
    
    return result
```

---

**END OF MVP SRS**

This MVP is designed to be **demo-ready in 2 weeks** while showcasing the full vision of Fiscally to hackathon judges.